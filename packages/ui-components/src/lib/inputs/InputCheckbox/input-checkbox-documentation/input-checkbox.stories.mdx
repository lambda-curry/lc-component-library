import { useState } from 'react';
import { Meta, Story, Canvas, ArgsTable, Source } from '@storybook/addon-docs';
import { InputCheckbox, Form, Button } from '../../..';
import dedent from 'string-dedent';
// import './input-checkbox-story.css';

<Meta title="Components/Inputs/Input Checkbox" component={InputCheckbox} />

# Input Checkbox

<Canvas>
  <Story
    name="Default behavior"
    parameters={{
      docs: {
        source: {
          code: dedent`
          <h4>Default</h4>
          <Form enableReinitialize={true} initialValues={{ checkboxDefault: false }} onSubmit={() => {}}>
            {formikProps => (
              <>
                <p>Value: {JSON.stringify(formikProps.values)}</p>
                <InputCheckbox name="checkboxDefault" label="Default checkbox" formikProps={formikProps} />
                <Button
                  onClick={() => {
                    formikProps.resetForm();
                  }}
                >
                  Reset
                </Button>
              </>
            )}
          </Form>`
        }
      }
    }}
  >
    <div className="input-checkbox-story">
      <h4>Default</h4>
      <Form enableReinitialize={true} initialValues={{ checkboxDefault: false }} onSubmit={() => {}}>
        {formikProps => (
          <>
            <p>Value: {JSON.stringify(formikProps.values)}</p>
            <InputCheckbox name="checkboxDefault" label="Default checkbox" />
            <Button
              onClick={() => {
                formikProps.resetForm();
              }}
            >
              Reset
            </Button>
          </>
        )}
      </Form>
    </div>
  </Story>
  <Story
    name="Checked"
    parameters={{
      docs: {
        source: {
          code: dedent`
            <h4>Checked</h4>
            <InputCheckbox name="checkboxChecked" label="Checked checkbox" checked={true} />`
        }
      }
    }}
  >
    <div className="input-checkbox-story">
      <h4>Checked</h4>
      <InputCheckbox name="checkboxChecked" label="Checked checkbox" checked={true} />
    </div>
  </Story>
  <Story
    name="Disabled"
    parameters={{
      docs: {
        source: {
          code: dedent`
            <h4>Disabled</h4>
            <InputCheckbox name="checkboxDisabled" label="Disabled checkbox" disabled={true} />`
        }
      }
    }}
  >
    <div className="input-checkbox-story">
      <h4>Disabled</h4>
      <InputCheckbox name="checkboxDisabled" label="Disabled checkbox" disabled={true} />
    </div>
  </Story>
  <Story
    name="Label Placement"
    parameters={{
      docs: {
        source: {
          code: dedent`
            <h4>Label Placement</h4>
            <Form initialValues={{ checkboxWithLabelEnd: false, checkboxWithLabeLStart: false }}>
              {formikProps => (
                <>
                  <p>Value: {JSON.stringify(formikProps.values)}</p>
                  <InputCheckbox name="checkboxWithLabelEnd" label={\`Label placement "end"\`} labelPlacement="end" />
                  <InputCheckbox name="checkboxWithLabeLStart" label={\`Label placement "start"\`} labelPlacement="start" />
                </>
              )}
            </Form>`
        }
      }
    }}
  >
    <div className="input-checkbox-story">
      <h4>Label Placement</h4>
      <Form initialValues={{ checkboxWithLabelEnd: false, checkboxWithLabeLStart: false }}>
        {formikProps => (
          <>
            <p>Value: {JSON.stringify(formikProps.values)}</p>
            <InputCheckbox name="checkboxWithLabelEnd" label={`Label placement "end"`} labelPlacement="end" />
            <InputCheckbox name="checkboxWithLabeLStart" label={`Label placement "start"`} labelPlacement="start" />
          </>
        )}
      </Form>
    </div>
  </Story>
  <Story
    name="Checkbox Arrays"
    parameters={{
      docs: {
        source: {
          code: dedent`
            <h4>Checkbox Arrays</h4>
            <Form initialValues={{ checkboxes: [] }}>
              {formikProps => (
                <>
                  <p>Value: {\`\${formikProps.values.checkboxes}\`}</p>
                  {Array.from(Array(5).keys()).map(index => (
                    <div key={index}>
                      <InputCheckbox name="checkboxes" value={\`checkbox\${index}\`} label={\`Checkbox \${index + 1}\`} />
                    </div>
                  ))}
                </>
              )}
            </Form>`
        }
      }
    }}
  >
    <div className="input-checkbox-story">
      <h4>Checkbox Arrays</h4>
      <Form initialValues={{ checkboxes: [] }}>
        {formikProps => (
          <>
            <p>Value: {JSON.stringify(formikProps.values)}</p>
            {Array.from(Array(5).keys()).map(index => (
              <div key={index}>
                <InputCheckbox name="checkboxes" value={`checkbox${index}`} label={`Checkbox ${index + 1}`} />
              </div>
            ))}
          </>
        )}
      </Form>
    </div>
  </Story>
  <Story
    name="Without Formik"
    parameters={{
      docs: {
        source: {
          code: dedent`
          {() => {
            const [checked, setChecked] = useState(false);
            return (
              <>
                <h4>Using without Formik</h4>
                <InputCheckbox
                  name="checkboxWithoutFormik"
                  label="Checkbox without Formik"
                  checked={checked}
                  onChange={(event, checked) => setChecked(checked)}
                />
              </>
            );
          }}`
        }
      }
    }}
  >
    {() => {
      const [checked, setChecked] = useState(false);
      return (
        <div className="input-checkbox-story">
          <h4>Using without Formik</h4>
          <InputCheckbox
            name={`checkboxWithoutFormik`}
            label="Checkbox without Formik"
            checked={checked}
            onChange={(event, checked) => setChecked(checked)}
          />
        </div>
      );
    }}
  </Story>
  <Story
    name="Test form"
    parameters={{
      docs: {
        source: {
          code: dedent`
            <>
              <h4>Test form</h4>
              <InputCheckbox
                name="cancellation_fee"
                label="Cancellation Fee"
               />
            </>`
        }
      }
    }}
  >
    <div className="input-checkbox-story">
      <h4>Test form</h4>
      <Form
        initialValues={{
          cancellation_fee: 1,
          chafers: 0,
          delivery_time: 1,
          end_time: 0,
          expo_time: 1,
          head_count: 1,
          is_active: 1,
          leave_kitchen_time: 1,
          meal_rate: 1,
          name: 'Drop Off',
          napkins: 0,
          plates: false,
          salad_bar: false,
          serving_utensils: false,
          soup: 0,
          start_time: 0,
          tookan_label: 'Nybll_Drop_Off',
          utensils: 1
        }}
      >
        {formikProps => (
          <>
            <p>Value: {JSON.stringify(formikProps.values)}</p>
            <InputCheckbox name="is_active" label="Active" />
            <InputCheckbox name="cancellation_fee" label="Cancellation Fee" />
            <InputCheckbox name="chafers" label="Chafers" />
            <InputCheckbox name="delivery_time" label="Delivery time" />
            <InputCheckbox name="start_time" label="Start Time" />
            <InputCheckbox name="end_time" label="End time" />
            <InputCheckbox name="expo_time" label="Expo time" />
            <InputCheckbox name="leave_kitchen_time" label="Leave Kitchen Time" />
            <InputCheckbox name="meal_rate" label="Meal Rate" />
            <InputCheckbox name="napkins" label="Napkins" />
            <InputCheckbox name="plates" label="Plates" />
            <InputCheckbox name="salad_bar" label="Salad Bar" />
            <InputCheckbox name="serving_utensils" label="Serving Utensils" />
            <InputCheckbox name="soup" label="Soup" />
            <InputCheckbox name="utensils" label="Utensils" />
          </>
        )}
      </Form>
    </div>
  </Story>
  <ArgsTable of={InputCheckbox} />
</Canvas>
