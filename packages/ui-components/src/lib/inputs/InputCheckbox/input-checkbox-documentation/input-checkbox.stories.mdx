import { useState } from 'react';
import { Meta, Story, Canvas, ArgsTable, Source } from '@storybook/addon-docs';
import { InputCheckbox, Form, Button } from '../../..';
import dedent from 'string-dedent';
// import './input-checkbox-story.css';

<Meta title="Components/Inputs/Input Checkbox" component={InputCheckbox} />

# Input Checkbox

<Canvas>
  <Story
    name="Default behavior"
    parameters={{
      docs: {
        source: {
          code: dedent`
          <h4>Default</h4>
          <Form enableReinitialize={true} initialValues={{ checkboxDefault: false }} onSubmit={() => {}}>
            {formikProps => (
              <>
                <p>Value: {JSON.stringify(formikProps.values)}</p>
                <InputCheckbox name="checkboxDefault" label="Default checkbox" formikProps={formikProps} />
                <Button
                  onClick={() => {
                    formikProps.resetForm();
                  }}
                >
                  Reset
                </Button>
              </>
            )}
          </Form>`
        }
      }
    }}
  >
    <div className="input-checkbox-story">
      <h4>Default</h4>
      <Form enableReinitialize={true} initialValues={{ checkboxDefault: false }} onSubmit={() => {}}>
        {formikProps => (
          <>
            <p>Value: {JSON.stringify(formikProps.values)}</p>
            <InputCheckbox name="checkboxDefault" label="Default checkbox" />
            <Button
              onClick={() => {
                formikProps.resetForm();
              }}
            >
              Reset
            </Button>
          </>
        )}
      </Form>
    </div>
  </Story>
  <Story
    name="Checked"
    parameters={{
      docs: {
        source: {
          code: dedent`
            <h4>Checked</h4>
            <InputCheckbox name="checkboxChecked" label="Checked checkbox" checked={true} />`
        }
      }
    }}
  >
    <div className="input-checkbox-story">
      <h4>Checked</h4>
      <InputCheckbox name="checkboxChecked" label="Checked checkbox" checked={true} />
    </div>
  </Story>
  <Story
    name="Disabled"
    parameters={{
      docs: {
        source: {
          code: dedent`
            <h4>Disabled</h4>
            <InputCheckbox name="checkboxDisabled" label="Disabled checkbox" disabled={true} />`
        }
      }
    }}
  >
    <div className="input-checkbox-story">
      <h4>Disabled</h4>
      <InputCheckbox name="checkboxDisabled" label="Disabled checkbox" disabled={true} />
    </div>
  </Story>
  <Story
    name="Label Placement"
    parameters={{
      docs: {
        source: {
          code: dedent`
            <h4>Label Placement</h4>
            <Form initialValues={{ checkboxWithLabelEnd: false, checkboxWithLabeLStart: false }}>
              {formikProps => (
                <>
                  <p>Value: {JSON.stringify(formikProps.values)}</p>
                  <InputCheckbox name="checkboxWithLabelEnd" label={\`Label placement "end"\`} labelPlacement="end" />
                  <InputCheckbox name="checkboxWithLabeLStart" label={\`Label placement "start"\`} labelPlacement="start" />
                </>
              )}
            </Form>`
        }
      }
    }}
  >
    <div className="input-checkbox-story">
      <h4>Label Placement</h4>
      <Form initialValues={{ checkboxWithLabelEnd: false, checkboxWithLabeLStart: false }}>
        {formikProps => (
          <>
            <p>Value: {JSON.stringify(formikProps.values)}</p>
            <InputCheckbox name="checkboxWithLabelEnd" label={`Label placement "end"`} labelPlacement="end" />
            <InputCheckbox name="checkboxWithLabeLStart" label={`Label placement "start"`} labelPlacement="start" />
          </>
        )}
      </Form>
    </div>
  </Story>
  <Story
    name="Checkbox Arrays"
    parameters={{
      docs: {
        source: {
          code: dedent`
            <h4>Checkbox Arrays</h4>
            <Form initialValues={{ checkboxes: [] }}>
              {formikProps => (
                <>
                  <p>Value: {\`\${formikProps.values.checkboxes}\`}</p>
                  {Array.from(Array(5).keys()).map(index => (
                    <div key={index}>
                      <InputCheckbox name="checkboxes" value={\`checkbox\${index}\`} label={\`Checkbox \${index + 1}\`} />
                    </div>
                  ))}
                </>
              )}
            </Form>`
        }
      }
    }}
  >
    <div className="input-checkbox-story">
      <h4>Checkbox Arrays</h4>
      <Form initialValues={{ checkboxes: [] }}>
        {formikProps => (
          <>
            <p>Value: {JSON.stringify(formikProps.values)}</p>
            {Array.from(Array(5).keys()).map(index => (
              <div key={index}>
                <InputCheckbox name="checkboxes" value={`checkbox${index}`} label={`Checkbox ${index + 1}`} />
              </div>
            ))}
          </>
        )}
      </Form>
    </div>
  </Story>
  <Story
    name="Without Formik"
    parameters={{
      docs: {
        source: {
          code: dedent`
          {() => {
            const [checked, setChecked] = useState(false);
            return (
              <>
                <h4>Using without Formik</h4>
                <InputCheckbox
                  name="checkboxWithoutFormik"
                  label="Checkbox without Formik"
                  checked={checked}
                  onChange={(event, checked) => setChecked(checked)}
                />
              </>
            );
          }}`
        }
      }
    }}
  >
    {() => {
      const [checked, setChecked] = useState(false);
      return (
        <div className="input-checkbox-story">
          <h4>Using without Formik</h4>
          <InputCheckbox
            name={`checkboxWithoutFormik`}
            label="Checkbox without Formik"
            checked={checked}
            onChange={(event, checked) => setChecked(checked)}
          />
        </div>
      );
    }}
  </Story>
  <ArgsTable of={InputCheckbox} />
</Canvas>
