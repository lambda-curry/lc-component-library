{
  "version": 3,
  "sources": ["../../../src/lib/hooks/useCopyToClipboard.ts"],
  "sourcesContent": ["import { useEffect, useState } from 'react';\nimport ClipboardJS from 'clipboard';\n\ntype CopyStates = 'copyable' | 'copied' | 'error';\n\nexport function useCopyToClipboard(\n  copyText: string,\n  copyTarget: string,\n  config?: { copied?: string; copyable?: string; error?: string }\n): [string, CopyStates] {\n  const [copyState, setCopyState] = useState<CopyStates>('copyable');\n  const [clipboard, setClipboard] = useState<ClipboardJS>();\n\n  const copyTextMap = {\n    copied: config?.copied || 'Copied Successfully!',\n    copyable: config?.copyable || 'Copy to clipboard',\n    error: config?.error || 'Error copying, click to try again.'\n  };\n\n  useEffect(() => {\n    if (clipboard) clipboard.destroy();\n\n    const targetElements = document.querySelectorAll(copyTarget);\n    if (targetElements.length) {\n      targetElements.forEach(targetElement => targetElement.setAttribute('data-clipboard-text', copyText));\n      const newClipboard = new ClipboardJS(targetElements);\n      setClipboard(newClipboard);\n    }\n\n    return () => {\n      if (clipboard) clipboard.destroy();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [copyText, copyTarget]);\n\n  useEffect(() => {\n    if (clipboard) {\n      clipboard.on('success', e => {\n        setCopyState('copied');\n        setTimeout(() => setCopyState('copyable'), 1000);\n        e.clearSelection();\n      });\n\n      clipboard.on('error', e => setCopyState('error'));\n    }\n  }, [clipboard]);\n\n  return [copyTextMap[copyState], copyState];\n}\n"],
  "mappings": "AAAA,gDACA,yBAIO,WACL,EACA,EACA,EACsB,CACtB,KAAM,CAAC,EAAW,GAAgB,EAAqB,YACjD,CAAC,EAAW,GAAgB,IAE5B,EAAc,CAClB,OAAQ,kBAAQ,SAAU,uBAC1B,SAAU,kBAAQ,WAAY,oBAC9B,MAAO,kBAAQ,QAAS,sCAG1B,SAAU,IAAM,CACd,AAAI,GAAW,EAAU,UAEzB,KAAM,GAAiB,SAAS,iBAAiB,GACjD,GAAI,EAAe,OAAQ,CACzB,EAAe,QAAQ,GAAiB,EAAc,aAAa,sBAAuB,IAC1F,KAAM,GAAe,GAAI,GAAY,GACrC,EAAa,GAGf,MAAO,IAAM,CACX,AAAI,GAAW,EAAU,YAG1B,CAAC,EAAU,IAEd,EAAU,IAAM,CACd,AAAI,GACF,GAAU,GAAG,UAAW,GAAK,CAC3B,EAAa,UACb,WAAW,IAAM,EAAa,YAAa,KAC3C,EAAE,mBAGJ,EAAU,GAAG,QAAS,GAAK,EAAa,YAEzC,CAAC,IAEG,CAAC,EAAY,GAAY",
  "names": []
}
