{
  "version": 3,
  "sources": ["../../../../src/lib/charts/PieChart/PieChart.tsx"],
  "sourcesContent": ["import React, { FC } from 'react';\nimport { merge } from 'lodash';\nimport classNames from 'classnames';\nimport { ChartBase, ChartBaseProps } from '../ChartBase';\nimport { ChartJSData, getComputedPieChartJSData, getPieChartPercentage, PieChartData } from '../chart.helpers';\nimport { ChartOptions } from 'chart.js';\n\nimport './pie-chart-legend.css';\n\nexport interface PieChartProps extends Partial<ChartBaseProps> {\n  data?: PieChartData;\n}\n\nexport const PieChart: FC<PieChartProps> = ({ className, options, chartJSData, data, ...props }) => {\n  const computedChartJSData = getComputedPieChartJSData(chartJSData, data);\n\n  const defaultOptions: ChartOptions = {\n    cutoutPercentage: 55,\n    legend: {\n      display: false\n    },\n    plugins: {\n      datalabels: {\n        display: true,\n        color: 'white',\n        borderRadius: 6,\n        padding: { left: 12, right: 10, top: 4, bottom: 4 },\n        backgroundColor: 'rgba(0,0,0,.3)',\n        labels: {\n          title: {\n            font: {\n              weight: 'bold'\n            }\n          }\n        },\n        formatter: (value: number, context: any) => getPieChartPercentage(value, computedChartJSData, 10)\n      }\n    }\n  };\n\n  return (\n    <ChartBase\n      type=\"pie\"\n      height={1}\n      width={1}\n      chartJSData={computedChartJSData}\n      options={merge(defaultOptions, options)}\n      className={classNames('lc-chart-pie', className)}\n      legendComponent={PieChartLegend}\n      {...props}\n    />\n  );\n};\n\nconst PieChartLegend: FC<{ data: ChartJSData }> = ({ data }) => {\n  if (!data.datasets || !data.datasets[0].data || !data.labels) return null;\n\n  const dataset = data.datasets[0];\n  const datasetData = dataset.data as number[];\n  const dataLabels = data.labels as string[];\n  const backgroundColors = dataset.backgroundColor as string[];\n\n  return (\n    <div className=\"lc-pie-chart-legend\">\n      <ul className=\"lc-pie-chart-legend-list\">\n        {datasetData.map((value, index) => {\n          const label = dataLabels[index];\n          const backgroundColor = backgroundColors[index];\n          const pieChartPercentage = getPieChartPercentage(value, data);\n\n          return (\n            <li key={index} className=\"lc-pie-chart-legend-item\">\n              <div className=\"lc-pie-chart-legend-color\" style={{ backgroundColor: backgroundColor }}></div>\n              <div className=\"lc-pie-chart-legend-label\">\n                <span className=\"lc-pie-chart-legend-label-name\">{label}</span>{' '}\n                <span className=\"lc-pie-chart-legend-label-value\">{value}</span>{' '}\n                {pieChartPercentage && (\n                  <span className=\"lc-pie-chart-legend-label-percentage\">{pieChartPercentage}</span>\n                )}\n              </div>\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n};\n"],
  "mappings": "2fAAA,qBACA,+BACA,0BACA,yCACA,wFAGA,+BAMO,KAAM,GAA8B,AAAC,GAAwD,CAAxD,QAAE,aAAW,UAAS,cAAa,QAAnC,EAA4C,IAA5C,EAA4C,CAA1C,YAAW,UAAS,cAAa,SAC7E,KAAM,GAAsB,EAA0B,EAAa,GA0BnE,MACE,iBAAC,EAAD,GACE,KAAK,MACL,OAAQ,EACR,MAAO,EACP,YAAa,EACb,QAAS,EA9BwB,CACnC,iBAAkB,GAClB,OAAQ,CACN,QAAS,IAEX,QAAS,CACP,WAAY,CACV,QAAS,GACT,MAAO,QACP,aAAc,EACd,QAAS,CAAE,KAAM,GAAI,MAAO,GAAI,IAAK,EAAG,OAAQ,GAChD,gBAAiB,iBACjB,OAAQ,CACN,MAAO,CACL,KAAM,CACJ,OAAQ,UAId,UAAW,CAAC,EAAe,IAAiB,EAAsB,EAAO,EAAqB,OAWjE,GAC/B,UAAW,EAAW,eAAgB,GACtC,gBAAiB,GACb,KAKJ,EAA4C,CAAC,CAAE,UAAW,CAC9D,GAAI,CAAC,EAAK,UAAY,CAAC,EAAK,SAAS,GAAG,MAAQ,CAAC,EAAK,OAAQ,MAAO,MAErE,KAAM,GAAU,EAAK,SAAS,GACxB,EAAc,EAAQ,KACtB,EAAa,EAAK,OAClB,EAAmB,EAAQ,gBAEjC,MACE,iBAAC,MAAD,CAAK,UAAU,uBACb,gBAAC,KAAD,CAAI,UAAU,4BACX,EAAY,IAAI,CAAC,EAAO,IAAU,CACjC,KAAM,GAAQ,EAAW,GACnB,EAAkB,EAAiB,GACnC,EAAqB,EAAsB,EAAO,GAExD,MACE,iBAAC,KAAD,CAAI,IAAK,EAAO,UAAU,4BACxB,gBAAC,MAAD,CAAK,UAAU,4BAA4B,MAAO,CAAE,gBAAiB,KACrE,gBAAC,MAAD,CAAK,UAAU,6BACb,gBAAC,OAAD,CAAM,UAAU,kCAAkC,GAAc,IAChE,gBAAC,OAAD,CAAM,UAAU,mCAAmC,GAAc,IAChE,GACC,gBAAC,OAAD,CAAM,UAAU,wCAAwC",
  "names": []
}
