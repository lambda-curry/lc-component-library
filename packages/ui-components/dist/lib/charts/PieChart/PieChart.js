var P=Object.defineProperty;var i=Object.getOwnPropertySymbols;var h=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable;var g=(a,e,t)=>e in a?P(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,C=(a,e)=>{for(var t in e||(e={}))h.call(e,t)&&g(a,t,e[t]);if(i)for(var t of i(e))m.call(e,t)&&g(a,t,e[t]);return a};var u=(a,e)=>{var t={};for(var r in a)h.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&i)for(var r of i(a))e.indexOf(r)<0&&m.call(a,r)&&(t[r]=a[r]);return t};import s from"react";import{merge as f}from"lodash";import N from"classnames";import{ChartBase as D}from"../ChartBase";import{getComputedPieChartJSData as k,getPieChartPercentage as b}from"../chart.helpers";import"./pie-chart-legend.css";const G=p=>{var l=p,{className:a,options:e,chartJSData:t,data:r}=l,c=u(l,["className","options","chartJSData","data"]);const o=k(t,r);return s.createElement(D,C({type:"pie",height:1,width:1,chartJSData:o,options:f({cutoutPercentage:55,legend:{display:!1},plugins:{datalabels:{display:!0,color:"white",borderRadius:6,padding:{left:12,right:10,top:4,bottom:4},backgroundColor:"rgba(0,0,0,.3)",labels:{title:{font:{weight:"bold"}}},formatter:(n,y)=>b(n,o,10)}}},e),className:N("lc-chart-pie",a),legendComponent:v},c))},v=({data:a})=>{if(!a.datasets||!a.datasets[0].data||!a.labels)return null;const e=a.datasets[0],t=e.data,r=a.labels,c=e.backgroundColor;return s.createElement("div",{className:"lc-pie-chart-legend"},s.createElement("ul",{className:"lc-pie-chart-legend-list"},t.map((p,l)=>{const o=r[l],d=c[l],n=b(p,a);return s.createElement("li",{key:l,className:"lc-pie-chart-legend-item"},s.createElement("div",{className:"lc-pie-chart-legend-color",style:{backgroundColor:d}}),s.createElement("div",{className:"lc-pie-chart-legend-label"},s.createElement("span",{className:"lc-pie-chart-legend-label-name"},o)," ",s.createElement("span",{className:"lc-pie-chart-legend-label-value"},p)," ",n&&s.createElement("span",{className:"lc-pie-chart-legend-label-percentage"},n)))})))};export{G as PieChart};
//# sourceMappingURL=PieChart.js.map
