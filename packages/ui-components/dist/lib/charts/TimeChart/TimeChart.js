var D=Object.defineProperty,I=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var m=Object.getOwnPropertySymbols;var f=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;var L=(e,t,r)=>t in e?D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,l=(e,t)=>{for(var r in t||(t={}))f.call(t,r)&&L(e,r,t[r]);if(m)for(var r of m(t))u.call(t,r)&&L(e,r,t[r]);return e},c=(e,t)=>I(e,O(t));var b=(e,t)=>{var r={};for(var o in e)f.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&m)for(var o of m(e))t.indexOf(o)<0&&u.call(e,o)&&(r[o]=e[o]);return r};import n,{useEffect as S,useState as v}from"react";import k from"classnames";import{merge as A}from"lodash";import{LineChart as F}from"../LineChart/LineChart";import{ChartLegend as J}from"../ChartLegend/ChartLegend";import{ChartLabel as V}from"../ChartLabel/ChartLabel";import E from"moment";import"./time-chart.css";const _=p=>{var h=p,{options:e,datasets:t=[],className:r}=h,o=b(h,["options","datasets","className"]);const{datasetDisplayLimit:C=t.length}=e||{},[g,T]=v(t),[i,d]=v(t.slice(0,C).map((a,s)=>s));S(()=>{t&&i&&T(t.map((a,s)=>c(l({},a),{hidden:!i.includes(s)})))},[i,t]);const y=a=>{if(!(a<0)){if(!i.includes(a)&&i.length<C)return d([...i,a]);d([...i.filter(s=>s!==a)])}},x=a=>y(a),N={scales:{xAxes:[{type:"time",time:{minUnit:"day",round:"day"}}]}};return n.createElement(F,l({datasets:g,className:k("lc-chart-time",r),options:A(N,e),tooltipComponent:U,legendComponent:a=>n.createElement(J,c(l({},a),{interactive:!0,onItemClick:(s,P)=>x(P)}))},o))},U=({data:e})=>{const{color:t,datasetLabel:r,xLabel:o="",value:p}=e;return n.createElement("div",{className:"lc-chart-time-tooltip"},n.createElement(V,{className:"lc-chart-time-tooltip-label",color:t,label:r,value:p}),o&&n.createElement("div",{className:"lc-chart-time-tooltip-date"},E(o).format("ll")))};export{_ as TimeChart};
//# sourceMappingURL=TimeChart.js.map
