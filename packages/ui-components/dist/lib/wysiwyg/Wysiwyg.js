var w=Object.defineProperty;var s=Object.getOwnPropertySymbols;var m=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable;var h=(e,l,t)=>l in e?w(e,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[l]=t,g=(e,l)=>{for(var t in l||(l={}))m.call(l,t)&&h(e,t,l[t]);if(s)for(var t of s(l))d.call(l,t)&&h(e,t,l[t]);return e};var f=(e,l)=>{var t={};for(var n in e)m.call(e,n)&&l.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&s)for(var n of s(e))l.indexOf(n)<0&&d.call(e,n)&&(t[n]=e[n]);return t};import y,{useEffect as k}from"react";import x from"react-quill";import{get as C}from"lodash";import{MultilineInput as E}from"../multiline-input";import"./wysiwyg.css";const q={theme:"snow",modules:{toolbar:{container:[[{header:[1,2,3,!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["clean"],[{placeholder:["{{Example Placeholder 1}}","{{Example Placeholder 2}}"]}]],handlers:{placeholder:function(e){if(!e)return;const l=this,t=l.quill.getSelection().index;l.quill.insertText(t,e),l.quill.setSelection(t+e.length)}}}}},R=F=>{var u=F,{placeholder:e="Enter your text here...",characterLimit:l=0,formikProps:t}=u,n=f(u,["placeholder","characterLimit","formikProps"]);const p=C(t.values,n.name);return k(()=>{var i;document.querySelectorAll(".ql-placeholder .ql-picker-item").forEach(a=>a.textContent=a.dataset.value);const r=document.querySelector(".ql-placeholder .ql-picker-label");r&&(r.innerHTML="Insert placeholder&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+((i=document.querySelector(".ql-placeholder .ql-picker-label"))==null?void 0:i.innerHTML))},[]),y.createElement(E,{value:p,characterLimit:l},({previousValue:c,characterCount:r})=>{const i=a=>{let o=a;const b=o.length,P=c.length;l&&b>P&&r>=l&&(o=c),o==="<p><br></p>"&&(o=""),t.setFieldValue(n.name,o)};return y.createElement(x,g({className:"wysiwyg-editor",placeholder:e,theme:q.theme,modules:q.modules,value:p,onChange:i},n))})};export{R as Wysiwyg};
//# sourceMappingURL=Wysiwyg.js.map
