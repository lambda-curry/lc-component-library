var A=Object.defineProperty,V=Object.defineProperties;var j=Object.getOwnPropertyDescriptors;var T=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var L=(e,t,n)=>t in e?A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h=(e,t)=>{for(var n in t||(t={}))R.call(t,n)&&L(e,n,t[n]);if(T)for(var n of T(t))b.call(t,n)&&L(e,n,t[n]);return e},x=(e,t)=>V(e,j(t));var D=(e,t)=>{var n={};for(var a in e)R.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&T)for(var a of T(e))t.indexOf(a)<0&&b.call(e,a)&&(n[a]=e[a]);return n};import J from"react";import{Slider as U}from"./Slider";import{DateTime as m,Interval as O}from"luxon";import q from"classnames";import{isNullOrUndefined as z}from"../util/js-helpers";const y=e=>e.start.toSeconds()/60,C=e=>e.end.toSeconds()/60,v=e=>m.fromFormat(e,"HH:mm"),G=(e,{minTime:t,min:n})=>{const a=m.fromSeconds(e[0]*60).toLocaleString(m.TIME_24_SIMPLE),g=m.fromSeconds(e[1]*60).toLocaleString(m.TIME_24_SIMPLE),[l]=t.split(":"),[c,i]=a.split(":"),[r,u]=g.split(":"),S=c==="24"&&l==="00"&&e[0]-n<60,E=r==="24"&&l==="00"&&e[1]-n<60,d=`${S?"00":c}:${i}`,o=`${E?"00":r}:${u}`;return{startTime:d,endTime:o}},K=e=>m.fromSeconds(e*60).toLocaleString(m.TIME_SIMPLE),ie=E=>{var d=E,{className:e,name:t,value:n,minTime:a="00:00",maxTime:g="24:00",valueLabelDisplay:l="on",minuteInterval:c=15,formikProps:i,onChange:r,onBlur:u}=d,S=D(d,["className","name","value","minTime","maxTime","valueLabelDisplay","minuteInterval","formikProps","onChange","onBlur"]);const o=z(i==null?void 0:i.values[t])?n:i==null?void 0:i.values[t];if(!o||!o.startTime||!o.endTime)throw new Error(`Time Range Slider expects a value of type TimeRange {
        startTime: string; // 00:00 - 24:00
        endTime: string;
      }`);const H=v(a),_=v(g),p=O.fromDateTimes(H,_),F=O.fromDateTimes(v(o.startTime),v(o.endTime)),I=y(p),w=C(p),B=[y(F),C(F)],N=(s,f)=>{if(!f)return;const M=G(f,{minTime:a,min:I});typeof r=="function"&&r(s,M),i&&i.setFieldValue(t,M)},$=s=>{s.target.id=t,typeof u=="function"&&u(s),i&&i.handleBlur(s)};return J.createElement(U,x(h({},S),{className:q(e,"lc-time-range-slider"),name:t,value:B,min:I,max:w,step:c,valueLabelDisplay:l,valueLabelFormat:s=>K(s),onChange:N,onBlur:$}))};export{ie as TimeRangeSlider};
//# sourceMappingURL=TimeRangeSlider.js.map
